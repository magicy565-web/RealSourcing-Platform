# RealSourcing 项目任务清单

## Phase 1: 数据库设计和项目基础搭建
- [x] 设计完整数据库 Schema（用户、Webinar、工厂、产品、消息等表）
- [x] 推送数据库 Schema 到生产环境
- [x] 配置项目基础样式和主题（商务专业风格）
- [x] 创建全局布局组件和导航结构

## Phase 2: 用户认证系统和角色管理
- [x] 实现邮箱密码注册功能
- [x] 实现邮箱密码登录功能
- [x] 实现用户角色管理（买家、工厂、用户）
- [x] 实现登出功能
- [x] 创建受保护路由和权限控制

## Phase 3: Webinar 核心功能模块
- [ ] 实现 Webinar 列表页面
- [ ] 实现 Webinar 创建功能
- [ ] 实现 Webinar 详情页面
- [ ] 实现参会者管理功能
- [ ] 实现 Webinar 与产品关联功能

## Phase 4: 工厂和产品管理功能
- [ ] 实现工厂列表页面
- [ ] 实现工厂详情页面
- [ ] 实现工厂评分系统
- [ ] 实现产品列表页面
- [ ] 实现产品详情页面
- [ ] 实现产品搜索和筛选功能
- [ ] 实现按工厂查询产品功能

## Phase 5: Agora 视频会议功能
- [ ] 配置 Agora SDK
- [ ] 实现视频会议室创建
- [ ] 实现实时音视频通话
- [ ] 实现屏幕共享功能
- [ ] 实现会议控制功能（静音、关闭摄像头等）

## Phase 6: 用户资料和消息通知系统
- [ ] 实现用户个人资料查看页面
- [ ] 实现用户个人资料编辑功能
- [ ] 实现站内消息列表
- [ ] 实现消息通知提醒
- [ ] 实现消息已读/未读状态管理

## Phase 7: 完整测试、优化并交付
- [ ] 编写核心功能单元测试
- [ ] 进行完整功能测试
- [ ] 响应式设计优化（桌面端和移动端）
- [ ] 性能优化和代码审查
- [ ] 创建项目检查点并部署

## 根据高保真原型重构前端设计

### Phase 1: 重构全局样式和主题系统
- [x] 更新全局 CSS 变量为深色紫色主题
- [x] 实现玻璃态卡片效果和紫色光晕边框
- [x] 配置 Inter 字体
- [x] 创建渐变背景系统

### Phase 2: 重新设计 Landing Page 和登录注册页面
- [x] 重构 Landing Page Hero 区域
- [x] 添加合作品牌展示区域
- [x] 添加功能卡片展示
- [x] 重构登录页面为左右分栏布局
- [x] 重构注册页面

### Phase 3: 实现买家 Dashboard 和侧边栏导航
- [x] 创建深色侧边栏组件
- [x] 实现 Dashboard 数据卡片
- [x] 实现 AI 推荐 Webinar 列表
- [x] 实现 AI 采购助理对话框

### Phase 4: 实现 Webinar 列表和详情页面
- [x] 创建 Webinar 列表页面
- [x] 实现搜索和筛选功能
- [x] 实现 Webinar 卡片网格布局
- [ ] 创建 Webinar 直播间页面（占位）

### Phase 5: 实现工厂 Dashboard 和工厂大厅页面
- [ ] 创建工厂 Dashboard
- [ ] 实现高意向客户列表
- [ ] 实现 AI 营销工具卡片
- [x] 创建工厂大厅页面

### Phase 6: 完整测试并交付
- [ ] 测试所有页面响应式布局
- [ ] 测试所有交互功能
- [ ] 优化性能和加载速度
- [ ] 创建最终检查点

## 连接后端 API 和完善功能

### 实现后端 API
- [ ] 实现 Webinar CRUD API（创建、列表、详情、更新、删除）
- [ ] 实现工厂 CRUD API（创建、列表、详情、更新、删除）
- [ ] 实现 Webinar 参与者管理 API
- [ ] 实现工厂评价 API

### 连接前端与后端
- [ ] Dashboard 页面连接真实 API
- [ ] Webinars 页面连接真实 API
- [ ] Factories 页面连接真实 API

### 实现工厂 Dashboard
- [x] 创建工厂侧边栏组件
- [x] 创建工厂 Dashboard 页面
- [x] 实现工厂数据统计
- [x] 实现高意向客户列表

### 测试和优化
- [ ] 编写 API 单元测试
- [ ] 测试所有页面功能
- [ ] 优化响应式布局
- [ ] 创建最终检查点

## 实现剩余核心页面

### Webinar 直播间
- [x] 创建 Webinar 直播间页面布局
- [x] 实现顶部控制栏（返回、LIVE 徽章、在线人数）
- [x] 实现视频展示区域
- [x] 实现工厂信息卡片
- [x] 实现互动按钮（点赞、收藏、送礼物、分享）
- [x] 实现右侧标签页（聊天、产品、工厂）
- [x] 实现聊天功能
- [x] 实现产品列表展示

### 1:1 私密选品会议室
- [x] 创建会议室页面布局
- [x] 实现顶部控制栏（结束会议、计时器、麦克风、摄像头、共享屏幕）
- [x] 实现双人视频通话区域
- [x] 实现 AI 实时转录功能
- [x] 实现右侧产品列表
- [x] 实现产品收藏和询价功能
- [x] 实现会议摘要生成按钮
- [x] 实现 Meeting Reel 生成按钮

### AI Meeting Reel 生成器
- [x] 创建生成器页面布局
- [x] 实现左侧会议素材预览
- [x] 实现音频波形可视化
- [x] 实现 AI 高光时刻标记
- [x] 实现右侧模板选择
- [x] 实现生成设置（时长、格式、字幕、水印、BGM）
- [x] 实现手机预览效果
- [x] 实现一键生成按钮

### 最终测试和优化
- [x] 测试所有页面的响应式布局
- [x] 测试所有交互功能
- [x] 优化页面加载性能
- [ ] 创建最终检查点

## 实现页面交互和 API 集成

### Phase 1: 页面跳转和导航交互
- [x] 修复 Webinars 页面：点击卡片跳转到 Webinar 直播间
- [x] 修复 Factories 页面：点击卡片跳转到工厂详情页
- [x] 修复 Dashboard 侧边栏：点击菜单项跳转到对应页面
- [x] 修复工厂 Dashboard 侧边栏：点击菜单项跳转到对应页面
- [x] 修复登录/注册页面：成功后跳转到 Dashboard
- [x] 修复首页导航栏按钮跳转
- [x] 修复首页 CTA 按钮跳转
- [x] 修复 Webinar 直播间返回按钮
- [x] 修复 1:1 会议室返回按钮
- [x] 修复 Meeting Reel 生成器返回按钮

### Phase 2: 实现后端 API
- [ ] 实现 Webinar CRUD API（创建、读取、更新、删除）
- [ ] 实现工厂 CRUD API
- [ ] 实现产品 CRUD API
- [ ] 实现参会者管理 API
- [ ] 修复 server/db.ts 中缺失的导出函数

### Phase 3: 连接前端与后端
- [ ] Dashboard 页面连接 API（加载真实数据）
- [ ] Webinars 页面连接 API（加载 Webinar 列表）
- [ ] Factories 页面连接 API（加载工厂列表）
- [ ] 工厂 Dashboard 连接 API（加载工厂数据）
- [ ] Webinar 直播间连接 API（加载 Webinar 详情）

### Phase 4: 用户状态管理
- [ ] 实现登录后的用户状态保存
- [ ] 实现基于角色的页面访问控制
- [ ] 实现退出登录功能
- [ ] 修复导航栏用户信息显示

### Phase 5: 测试和优化
- [ ] 测试完整的用户注册→登录→浏览→操作流程
- [ ] 测试所有页面跳转和返回功能
- [ ] 测试 API 错误处理和加载状态
- [ ] 创建最终检查点

## 实现用户状态管理

### Phase 1: 用户认证上下文和状态管理
- [x] 创建 AuthContext 提供全局用户状态
- [x] 实现 useAuth Hook 获取当前用户信息
- [x] 更新 main.tsx 添加 AuthProvider

### Phase 2: 受保护路由
- [x] 创建 ProtectedRoute 组件
- [x] 未登录用户自动重定向到登录页
- [x] 保存原始访问路径，登录后返回

### Phase 3: 基于角色的 Dashboard
- [x] Dashboard 页面根据用户角色显示不同内容
- [x] 买家用户显示 BuyerDashboard
- [x] 工厂用户显示 FactoryDashboard
- [x] 更新侧边栏根据角色显示不同菜单

### Phase 4: 测试和交付
- [x] 测试登录后的状态管理
- [x] 测试受保护路由重定向
- [x] 测试不同角色的 Dashboard 显示
- [ ] 创建最终检查点

## 实现消息通知功能

### Phase 1: 后端消息通知 API
- [x] 实现获取通知列表 API
- [x] 实现标记通知为已读 API
- [x] 实现删除通知 API
- [x] 实现创建通知 API（用于测试）

### Phase 2: 消息通知页面
- [x] 创建消息通知页面组件
- [x] 实现通知列表展示
- [x] 实现通知筛选（全部、未读、已读）
- [x] 实现通知操作（标记已读、删除）

### Phase 3: 实时通知提示
- [x] 在侧边栏添加通知图标和未读数量徽章
- [x] 实现通知实时更新（每 30 秒刷新）
- [x] 实现通知页面路由

### Phase 4: 测试和交付
- [x] 测试通知列表加载
- [x] 测试通知标记已读
- [x] 测试通知删除
- [ ] 创建最终检查点
